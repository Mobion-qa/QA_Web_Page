<header class="header">
  <div class="wrap headerInner">
    <a class="logo" id="hdrHome" href="../index.html" aria-label="í™ˆ">MOBION MALL</a>

    <form id="searchForm" class="search" role="search">
      <input id="searchInput" type="search" placeholder="ìƒí’ˆ ê²€ìƒ‰" autocomplete="off" />
      <button type="submit">ê²€ìƒ‰</button>
    </form>

    <nav class="icons" aria-label="ë°”ë¡œê°€ê¸°">
      <a class="iconBtn" id="hdrCart" href="./cart.html" title="ì¥ë°”êµ¬ë‹ˆ">ğŸ›’<span class="miniTxt">ì¥ë°”êµ¬ë‹ˆ</span></a>
      <a class="iconBtn" id="hdrList" href="./product_list.html" title="ìƒí’ˆ">ğŸ›ï¸<span class="miniTxt">ìƒí’ˆ</span></a>
      <a class="iconBtn" id="hdrMy" href="./mypage.html" title="ë§ˆì´">ğŸ‘¤<span class="miniTxt">ë§ˆì´</span></a>
    </nav>
  </div>
</header>

<script type="module">
  const inHtmlFolder = location.pathname.includes("/html/");
  const base = inHtmlFolder ? "." : "./html";

  // âœ… ë§í¬ ìë™ ë³´ì • (í—¤ë”ê°€ ì–´ë””ì— ì‚½ì…ë˜ë“  ì •ìƒ ë™ì‘)
  document.getElementById("hdrHome").setAttribute("href", inHtmlFolder ? "../index.html" : "./index.html");
  document.getElementById("hdrCart").setAttribute("href", `${base}/cart.html`);
  document.getElementById("hdrList").setAttribute("href", `${base}/product_list.html`);
  document.getElementById("hdrMy").setAttribute("href", `${base}/mypage.html`);

  // âœ… ê²€ìƒ‰ì€ ë¬´ì¡°ê±´ ë¦¬ìŠ¤íŠ¸ë¡œ
  const form = document.getElementById("searchForm");
  const input = document.getElementById("searchInput");

  form?.addEventListener("submit", (e) => {
    e.preventDefault();
    const keyword = (input?.value || "").trim();
    if (!keyword) return;
    location.href = `${base}/product_list.html?keyword=${encodeURIComponent(keyword)}`;
  });
</script>
